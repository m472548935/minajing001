"use strict";(self["webpackChunkhm_exp_mobile"]=self["webpackChunkhm_exp_mobile"]||[]).push([[606],{7606:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail-page"},[e("van-nav-bar",{attrs:{"left-text":"返回",fixed:"",title:"面经详情"},on:{"click-left":function(e){return t.$router.back()}}}),e("header",{staticClass:"header"},[e("h1",[t._v(t._s(t.article.stem))]),e("p",[t._v(" "+t._s(t.article.createdAt)+" | "+t._s(t.article.views)+" 浏览量 | "+t._s(t.article.likeCount)+" 点赞数 ")]),e("p",[e("img",{attrs:{src:t.article.avatar,alt:""}}),e("span",[t._v("作者"+t._s(t.article.creator))])])]),e("main",{staticClass:"body"},[t._v(" "+t._s(t.clearHTMLTag(t.article.content))+" ")]),e("div",{staticClass:"opt"},[e("van-icon",{class:{active:t.article.likeFlag},attrs:{name:"like-o"},on:{click:t.toggleLike}}),e("van-icon",{class:{active:t.article.collectFlag},attrs:{name:"star-o"},on:{click:t.toggleCollect}})],1)],1)},l=[],r=a(4754),s={name:"detail-page",data(){return{article:{}}},async created(){console.log(this.$route.params.id);const t=await(0,r.oD)(this.$route.params.id);console.log(t.data),this.article=t.data},methods:{clearHTMLTag(t){return t.replace(/<[^>]+>/g,"")},async toggleLike(){if(this.article.likeFlag=!this.article.likeFlag,this.article.likeFlag){const t=await(0,r.f)(this.article.id);console.log(t),this.article.likeCount++,this.$toast("点赞成功")}else{const t=await(0,r.f)(this.article.id);console.log(t),this.article.likeCount--,this.$toast("取消点赞")}},async toggleCollect(){if(this.article.collectFlag=!this.article.collectFlag,this.article.collectFlag){const t=await(0,r.km)(this.article.id);console.log(t),this.$toast("收藏成功")}else{const t=await(0,r.km)(this.article.id);console.log(t),this.$toast("取消收藏")}}}},c=s,o=a(1656),n=(0,o.A)(c,i,l,!1,null,"1e35ac68",null),p=n.exports},4754:function(t,e,a){a.d(e,{AW:function(){return o},f:function(){return s},f0:function(){return n},km:function(){return c},oD:function(){return r},vO:function(){return l}});var i=a(8417);const l=t=>i.A.get("/interview/query",{params:{current:t.current||1,pageSize:t.pageSize||10,sorter:t.sorter}}),r=t=>i.A.get("/interview/show",{params:{id:t}}),s=t=>i.A.post("/interview/opt",{id:t,optType:1}),c=t=>i.A.post("/interview/opt",{id:t,optType:2}),o=t=>i.A.get("/interview/opt/list",{params:{optType:2,pageSize:5,page:t.page}}),n=t=>i.A.get("/interview/opt/list",{params:{optType:1,pageSize:5,page:t.page}})}}]);
//# sourceMappingURL=606.7c28120c.js.map